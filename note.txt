Remove user query from refreshAccessToken.
in blog as SEO Analysis: with Word Count, SEO Score, Keyword Density
lsi keywords and nlp



import { useState, useEffect } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { Button } from '@/components/ui/button';
import { ShoppingBag, Wand2, RefreshCw, Check, Image as ImageIcon, FileText, Tag, Link } from 'lucide-react';
import productImg from '@assets/generated_images/fashion_sale_poster_design.png';

export default function ThumbnailProduct() {
  const [isGenerating, setIsGenerating] = useState(false);
  const [progress, setProgress] = useState(0);
  const [showResult, setShowResult] = useState(false);

  const handleGenerate = () => {
    setIsGenerating(true);
    setProgress(0);
    setShowResult(false);
  };

  useEffect(() => {
    if (isGenerating) {
      const interval = setInterval(() => {
        setProgress((prev) => {
          if (prev >= 100) {
            clearInterval(interval);
            setIsGenerating(false);
            setShowResult(true);
            return 100;
          }
          return prev + 2;
        });
      }, 30);
      return () => clearInterval(interval);
    }
  }, [isGenerating]);

  return (
    <section className="py-32 bg-[#0A0A0A] relative overflow-hidden">
      {/* Abstract Background */}
      <div className="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none">
        <div className="absolute top-1/4 left-0 w-[500px] h-[500px] bg-pink-500/10 rounded-full blur-[100px]" />
        <div className="absolute bottom-0 right-0 w-[500px] h-[500px] bg-blue-500/10 rounded-full blur-[100px]" />
      </div>

      <div className="container mx-auto px-6 relative z-10">
        <div className="text-center mb-16">
          <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-pink-500/10 border border-pink-500/20 text-sm text-pink-400 mb-6">
            <ShoppingBag className="w-4 h-4" />
            <span>AI Product Launchpad</span>
          </div>
          <h2 className="text-4xl md:text-5xl font-bold text-white mb-4">
            From URL to <span className="text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-400">Launch Ready</span>
          </h2>
          <p className="text-gray-400 max-w-2xl mx-auto text-lg">
            Just paste your product link. Our AI generates high-converting thumbnails, SEO descriptions, and ad copy instantly.
          </p>
        </div>

        <div className="max-w-6xl mx-auto">
          <div className="glass-card rounded-3xl border border-white/10 overflow-hidden shadow-2xl">
            
            {/* Chrome / Header */}
            <div className="h-16 border-b border-white/10 bg-white/5 flex items-center px-6 justify-between">
              <div className="flex items-center gap-2">
                <div className="w-3 h-3 rounded-full bg-red-500/20" />
                <div className="w-3 h-3 rounded-full bg-yellow-500/20" />
                <div className="w-3 h-3 rounded-full bg-green-500/20" />
              </div>
              <div className="flex bg-black/50 rounded-lg px-4 py-1.5 items-center gap-2 border border-white/5 w-96">
                <Link className="w-3 h-3 text-gray-500" />
                <span className="text-xs text-gray-500 font-mono truncate">https://myshop.com/products/wireless-headphones</span>
              </div>
              <div className="w-16" /> {/* Spacer */}
            </div>

            <div className="flex flex-col lg:flex-row min-h-[600px]">
              
              {/* Left: Input & Settings */}
              <div className="lg:w-1/3 border-r border-white/10 bg-[#0E0E0E] p-8 flex flex-col">
                <div className="space-y-8 flex-1">
                  <div>
                    <label className="text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 block">Source</label>
                    <div className="space-y-3">
                       <div className="p-4 rounded-xl bg-white/5 border border-white/10 hover:border-purple-500/50 transition-colors cursor-pointer flex items-center gap-3 group">
                         <div className="w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center text-purple-400 group-hover:scale-110 transition-transform">
                           <Link className="w-5 h-5" />
                         </div>
                         <div>
                           <div className="text-white font-medium">Product URL</div>
                           <div className="text-xs text-gray-500">Auto-extract details</div>
                         </div>
                         <Check className="w-4 h-4 text-purple-500 ml-auto" />
                       </div>
                    </div>
                  </div>

                  <div>
                    <label className="text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 block">Generate Assets</label>
                    <div className="space-y-2">
                      {[
                        { icon: ImageIcon, label: 'Product Thumbnails', checked: true },
                        { icon: FileText, label: 'SEO Description', checked: true },
                        { icon: Tag, label: 'Ad Copy Variants', checked: true },
                      ].map((item, i) => (
                        <div key={i} className="flex items-center justify-between p-3 rounded-lg hover:bg-white/5 transition-colors cursor-pointer">
                          <div className="flex items-center gap-3">
                            <item.icon className="w-4 h-4 text-gray-400" />
                            <span className="text-sm text-gray-300">{item.label}</span>
                          </div>
                          <div className={`w-5 h-5 rounded border flex items-center justify-center ${item.checked ? 'bg-purple-500 border-purple-500' : 'border-gray-600'}`}>
                            {item.checked && <Check className="w-3 h-3 text-white" />}
                          </div>
                        </div>
                      ))}
                    </div>
                  </div>

                  <div>
                     <label className="text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 block">Tone of Voice</label>
                     <div className="grid grid-cols-3 gap-2">
                       {['Professional', 'Playful', 'Luxury'].map(tone => (
                         <button key={tone} className="px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-xs text-gray-300 hover:bg-white/10 hover:text-white transition-colors">
                           {tone}
                         </button>
                       ))}
                     </div>
                  </div>
                </div>

                <div className="pt-6 mt-6 border-t border-white/10">
                  <Button 
                    onClick={handleGenerate}
                    disabled={isGenerating}
                    className="w-full bg-white text-black hover:bg-white/90 h-12 rounded-xl font-bold text-base"
                  >
                    {isGenerating ? (
                      <>
                        <RefreshCw className="w-4 h-4 mr-2 animate-spin" /> Generating...
                      </>
                    ) : (
                      <>
                        <Wand2 className="w-4 h-4 mr-2" /> Generate Assets
                      </>
                    )}
                  </Button>
                </div>
              </div>

              {/* Right: Results Area */}
              <div className="flex-1 bg-[#050505] relative p-8 overflow-hidden flex flex-col">
                
                {/* Progress Overlay */}
                <AnimatePresence>
                  {isGenerating && (
                    <motion.div 
                      initial={{ opacity: 0 }}
                      animate={{ opacity: 1 }}
                      exit={{ opacity: 0 }}
                      className="absolute inset-0 z-20 bg-[#050505]/90 backdrop-blur-sm flex flex-col items-center justify-center"
                    >
                      <div className="w-64 h-2 bg-gray-800 rounded-full overflow-hidden mb-4">
                        <motion.div 
                          className="h-full bg-purple-500"
                          style={{ width: `${progress}%` }}
                        />
                      </div>
                      <p className="text-purple-400 font-mono text-sm">Analyzing Product Details...</p>
                    </motion.div>
                  )}
                </AnimatePresence>

                {/* Content */}
                <div className={`transition-opacity duration-500 ${isGenerating ? 'opacity-50' : 'opacity-100'}`}>
                  {!showResult ? (
                    <div className="h-full flex flex-col items-center justify-center text-center opacity-30">
                      <div className="w-24 h-24 rounded-3xl bg-white/5 border border-white/10 mb-6 flex items-center justify-center">
                        <Wand2 className="w-10 h-10 text-white" />
                      </div>
                      <h3 className="text-2xl font-bold text-white mb-2">Ready to Launch?</h3>
                      <p className="text-gray-400 max-w-md">
                        Select your settings on the left and hit generate to create a full marketing package for your product.
                      </p>
                    </div>
                  ) : (
                    <motion.div 
                      initial={{ opacity: 0, y: 20 }}
                      animate={{ opacity: 1, y: 0 }}
                      className="h-full flex flex-col gap-6"
                    >
                      <div className="grid grid-cols-2 gap-6 h-1/2">
                         {/* Generated Thumbnail */}
                         <div className="bg-[#111] rounded-2xl p-4 border border-white/10 flex flex-col">
                           <div className="flex items-center justify-between mb-3">
                             <span className="text-xs font-bold text-gray-500 uppercase">Thumbnail 1</span>
                             <div className="flex gap-1">
                               <div className="w-2 h-2 rounded-full bg-purple-500" />
                             </div>
                           </div>
                           <div className="flex-1 rounded-xl overflow-hidden relative group">
                             <img src={productImg} alt="Result" className="w-full h-full object-cover" />
                             <div className="absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer">
                               <Button size="sm" variant="secondary">Edit</Button>
                             </div>
                           </div>
                         </div>

                         {/* Generated Ad Copy */}
                         <div className="bg-[#111] rounded-2xl p-6 border border-white/10 flex flex-col">
                           <span className="text-xs font-bold text-gray-500 uppercase mb-4">Facebook Ad Copy</span>
                           <div className="space-y-4 flex-1 overflow-y-auto pr-2 scrollbar-thin">
                             <div>
                               <p className="text-sm text-white font-medium mb-2">Primary Text</p>
                               <div className="p-3 rounded-lg bg-white/5 text-sm text-gray-300 leading-relaxed">
                                 ðŸŽ§ Experience sound like never before. Our new Noise-Cancelling Headphones deliver 30 hours of pure audio bliss. Perfect for commute, work, or play.
                               </div>
                             </div>
                             <div>
                               <p className="text-sm text-white font-medium mb-2">Headline</p>
                               <div className="p-3 rounded-lg bg-white/5 text-sm text-gray-300 font-bold">
                                 Silence the Noise. Amplify the Music.
                               </div>
                             </div>
                           </div>
                         </div>
                      </div>

                      {/* SEO Description */}
                      <div className="flex-1 bg-[#111] rounded-2xl p-6 border border-white/10 flex flex-col">
                         <div className="flex items-center justify-between mb-4">
                           <span className="text-xs font-bold text-gray-500 uppercase">SEO Description</span>
                           <span className="text-xs text-green-400 bg-green-500/10 px-2 py-1 rounded">Score: 98/100</span>
                         </div>
                         <h3 className="text-xl font-serif text-white mb-3">Premium Wireless Active Noise Cancelling Headphones</h3>
                         <p className="text-gray-400 leading-relaxed text-sm">
                           Discover the ultimate listening experience with our premium wireless headphones. Featuring advanced Active Noise Cancellation (ANC) technology, these headphones block out ambient noise so you can focus on your music. With a 30-hour battery life, plush memory foam earcups, and precision-engineered drivers, enjoy crystal-clear highs and deep, immersive bass all day long. Compatible with iOS and Android.
                         </p>
                         <div className="mt-auto pt-4 flex gap-2">
                           {['#WirelessAudio', '#NoiseCancelling', '#PremiumSound', '#TechAccessories'].map(tag => (
                             <span key={tag} className="text-xs text-blue-400 bg-blue-500/10 px-2 py-1 rounded-full">{tag}</span>
                           ))}
                         </div>
                      </div>
                    </motion.div>
                  )}
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  );
}
